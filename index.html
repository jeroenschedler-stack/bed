
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BED Hospitality 2.0 - PDF Test</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    button { padding: 10px 20px; background: #136ef6; color: #fff; border: none; border-radius: 6px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>BED Hospitality 2.0 PDF Test</h1>
  <div>
    <label>Member name</label><input id="mName" placeholder="Jeroen"><br>
    <label>Member email</label><input id="mEmail" placeholder="jeroen@gmail.com"><br>
    <label>Member hotel</label><input id="mHotel" placeholder="BED Chiangmai Gate"><br>
    <label>Peer name</label><input id="pName" placeholder="Peter"><br>
    <label>Peer email</label><input id="pEmail" placeholder="peter@gmail.com"><br>
    <label>Peer hotel</label><input id="pHotel" placeholder="BED Chiangmai Gate"><br>
    <label>Score %</label><input id="scorePct" value="93"><br>
    <label>Points</label><input id="points" value="125"><br>
    <label>Max points</label><input id="maxPts" value="175"><br>
  </div>
  <br>
  <button id="gen">Generate PDF</button>

  <script>
    document.getElementById("gen").addEventListener("click", async () => {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      const mName = document.getElementById("mName").value || "Member";
      const firstName = mName.split(" ")[0].replace(/[^a-zA-Z]/g, "");
      const mEmail = document.getElementById("mEmail").value;
      const mHotel = document.getElementById("mHotel").value;
      const pName = document.getElementById("pName").value;
      const pEmail = document.getElementById("pEmail").value;
      const pHotel = document.getElementById("pHotel").value;
      const scorePct = document.getElementById("scorePct").value;
      const points = document.getElementById("points").value;
      const maxPts = document.getElementById("maxPts").value;

      doc.setFontSize(18);
      doc.text("BED HOSPITALITY 2.0", 20, 20);
      doc.setFontSize(14);
      doc.text("Assessment Report", 20, 30);
      doc.setFontSize(12);
      doc.text(`Report Date: ${new Date().toLocaleDateString()}`, 20, 40);

      doc.text("Team Member", 20, 55);
      doc.text(`Name: ${mName}`, 20, 65);
      doc.text(`Email: ${mEmail}`, 20, 72);
      doc.text(`Hotel: ${mHotel}`, 20, 79);

      doc.text("Peer Reviewer", 110, 55);
      doc.text(`Name: ${pName}`, 110, 65);
      doc.text(`Email: ${pEmail}`, 110, 72);
      doc.text(`Hotel: ${pHotel}`, 110, 79);

      doc.text("Overall Assessment", 20, 95);
      doc.text(`Score: ${scorePct}%`, 20, 105);
      doc.text(`Points: ${points} / ${maxPts}`, 20, 112);

      doc.save(`BED-Report-${firstName}.pdf`);
    });
  </script>
</body>
</html>
